{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-1bf62153130978ae.js","src/js/index2.js","src/js/favorites-output.js","node_modules/@parcel/runtime-js/lib/runtime-e2ddb550f90b5ddf.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"1Z6Xn\\\":\\\"favorites.692822a7.js\\\",\\\"d9SZC\\\":\\\"icons.d085dab5.svg\\\",\\\"2CpI3\\\":\\\"index.438f6d97.js\\\"}\"));","import './mobile-menu.js';\nimport './dark-theme.js';\nimport './categories.js';\nimport './modal-order-now.js';\nimport './favorites-output.js';\nimport './modal-ratio';\nimport './modal-recipe.js';\n\n","// ================================\n// сторінка favorite =============\n\nconst categoryFilter = document.querySelector('.favorite-categories');\nconst recipeList = document.querySelector('.card-recipe-favorite');\nconst categorySelect = document.querySelector('.category-select');\nconst errorMessageEl = document.querySelector('.js-noone');\nconst paginationList = document.querySelector('.page-pagination-list');\nconst iconsUrl = new URL('../img/icons.svg', import.meta.url);\n\nconst refs = {\n  btnBegin: document.querySelector('.btn-beginning'),\n  btnPrev: document.querySelector('.btn-previous'),\n  btnFirst: document.querySelector('.btn-first'),\n  btnSecond: document.querySelector('.btn-second'),\n  btnThird: document.querySelector('.btn-third'),\n  btnOther: document.querySelector('.btn-show-others'),\n  btnNext: document.querySelector('.btn-next'),\n  btnEnd: document.querySelector('.btn-end'),\n};\n\n// FAVORITE_RECIPE сюди додавати після натискання кнопки додати в улюблені\nconst FAVORITE_RECIPE = JSON.parse(localStorage.getItem('FAVORITE_RECIPE'));\nconsole.log(FAVORITE_RECIPE);\n\nlet currentPage = 1;\nlet itemsPerPage = 6;\n\nlet allElements;\nlet totalPages;\nresizePage();\n\nwindow.addEventListener('resize', resizePage);\n\nfunction resizePage() {\n  run(FAVORITE_RECIPE);\n}\n\n//запуск\nfunction run(arrayOfObjects) {\n  if (arrayOfObjects && arrayOfObjects.length) {\n    allElements = arrayOfObjects.length;\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n\n    screenWidthFunct();\n    totalPages = Math.ceil(allElements / itemsPerPage);\n    if (totalPages < currentPage) {\n      currentPage = 1;\n    }\n    renderMarkup(arrayOfObjects); //завантаження списку на сторінку з локал сторедж\n  } else {\n    paginationList.style.display = 'none';\n    categoryFilter.style.display = 'none'; // приховує фільтр по категорії\n    errorMessageEl.style.display = 'block'; //повідомлення про пустий список\n  }\n}\n\n// рендер html, відображає на сторінці\nfunction renderMarkup(markup) {\n  const sliceMarkup = sliceMarkupFun(markup);\n  deactiveBtn();\n  activeBtn();\n  recipeList.innerHTML = ' ';\n  const createMarkupHtml = createMarkup(sliceMarkup);\n  recipeList.insertAdjacentHTML('beforeend', createMarkupHtml);\n  // addCardsInHtml(sliceMarkupFun(markup));\n}\n\nfunction createBtn() {\n  if (totalPages === 1) {\n    return (paginationList.style.display = 'none');\n  } else {\n    paginationList.style.display = 'flex';\n  }\n  document.querySelector('.page-pagination-item-third').style.display = 'none';\n  // refs.btnThird.style.display = 'none'; // =====================треба повісити клас\n\n  if (totalPages === 2) {\n    refs.btnSecond.style.display = 'none';\n  }\n  refs.btnOther.textContent = totalPages;\n}\n\nfunction sliceMarkupFun(markup) {\n  createBtn();\n\n  const startIndex = (currentPage - 1) * itemsPerPage;\n  const endIndex = startIndex + itemsPerPage;\n  const slicedMarkup = markup.slice(startIndex, endIndex);\n\n  return slicedMarkup;\n}\n\n// // створює список карток\nfunction createMarkup(recipes) {\n  return recipes\n    .map(el => {\n      const numStars = Math.round(el.rating);\n      let stars = ``;\n\n      for (let i = 0; i < numStars; i++) {\n        stars += `<svg class=\"rat-icon act\">\n              <use href=\"${iconsUrl.pathname}#icon-Star\"></use></svg>`;\n      }\n\n      if (numStars < 5) {\n        for (let i = 0; i < 5 - numStars; i++) {\n          stars += `<svg class=\"rat-icon \">\n              <use href=\"${iconsUrl.pathname}#icon-Star\"></use></svg>`;\n        }\n      }\n\n      return `\n    <li class=\"recipe-item\">\n      <div class=\"photo-recipe-card \" style=\"background: linear-gradient( 1deg, rgba(5, 5, 5, 0.6) 50%, rgba(5, 5, 5, 0) 100% ), url('${\n        el.preview\n      }'); background-repeat: no-repeat; background-size: cover;\">\n      <button class=\"fav-btn\" >\n      <svg class=\"fav-icon activ\" data-id=\"${el._id}\">\n          <use href=\"${iconsUrl.pathname}#icon-heart-full\"></use>\n        </svg>\n      </button>\n\n      <div class=\"info-recipe-card  \" >\n        <h2 class=\"title-recipe-card\">\n          ${el.title}\n        </h2>\n        <p class=\"descr-recipe-card\">\n          ${el.description.slice(0, 94)}...\n        </p>\n        <div class=\"thum-raying-card\">\n          <div class=\"rating-recipe-card\">\n          <span class=\"rating-value \">${el.rating.toFixed(1)}</span>\n        ${stars}\n\n        </div>\n        <button class=\"see-recipe-card\" data-id=\"${el._id}\">See recipe</button>\n        </div>\n      </div>\n    </div>\n    </li>`;\n    })\n    .join('');\n}\n\ncategorySelect.addEventListener('change', handlerCategorySelect);\n\n// // фільтр\nfunction handlerCategorySelect(event) {\n  const selectedCategory = event.target.value;\n  if (selectedCategory === '0') {\n    run(FAVORITE_RECIPE);\n  } else {\n    const filteredRecipes = FAVORITE_RECIPE.filter(\n      recipe => recipe.category === selectedCategory\n    );\n    // console.log(filteredRecipes);\n    currentPage = 1;\n    run(filteredRecipes);\n  }\n}\n\n// //пагінація\npaginationList.addEventListener('click', event => {\n  if (event.target.classList.contains('btn-list')) {\n    if (event.target.classList.contains('btn-first')) {\n      currentPage = 1;\n    } else if (event.target.classList.contains('btn-second')) {\n      if (event.target.textContent > 2) {\n        currentPage = event.target.textContent;\n      } else {\n        currentPage = 2;\n      }\n    } else if (event.target.classList.contains('btn-third')) {\n      currentPage = 3;\n    } else if (event.target.classList.contains('btn-show-others')) {\n      currentPage = totalPages;\n    }\n    renderingBtn();\n  }\n});\n\nrefs.btnBegin.addEventListener('click', () => {\n  currentPage = 1;\n  renderingBtn;\n});\n\nrefs.btnPrev.addEventListener('click', () => {\n  if (currentPage > 1) {\n    currentPage--;\n    renderingBtn();\n  }\n});\n\nrefs.btnNext.addEventListener('click', () => {\n  if (currentPage !== totalPages) {\n    currentPage += 1;\n    renderingBtn();\n  }\n});\n\nrefs.btnEnd.addEventListener('click', () => {\n  currentPage = totalPages;\n  renderingBtn();\n});\n\nfunction renderingBtn() {\n  run(FAVORITE_RECIPE);\n}\n\nfunction activeBtn() {\n  if (currentPage > 1) {\n    refs.btnPrev.classList.add('act');\n    refs.btnBegin.classList.add('act');\n  }\n  if (currentPage === 1) {\n    refs.btnFirst.classList.add('act');\n  }\n  if (currentPage === 1) {\n    refs.btnSecond.textContent = 2;\n  } else if (currentPage === totalPages) {\n    refs.btnSecond.textContent = totalPages - 1;\n  }\n  if (\n    currentPage === 2 ||\n    (currentPage > 2 && currentPage < totalPages && totalPages > 2)\n  ) {\n    refs.btnSecond.classList.add('act');\n    refs.btnSecond.textContent = currentPage;\n  }\n  if (currentPage === 3) {\n    refs.btnThird.classList.add('act');\n  }\n  if (currentPage === totalPages) {\n    refs.btnOther.classList.add('act');\n  }\n  if (currentPage < totalPages) {\n    refs.btnNext.classList.add('act');\n    refs.btnEnd.classList.add('act');\n  }\n}\n\nfunction deactiveBtn() {\n  refs.btnPrev.classList.remove('act');\n  refs.btnBegin.classList.remove('act');\n  refs.btnFirst.classList.remove('act');\n  if (totalPages <= 3) {\n    refs.btnSecond.textContent = 2;\n  }\n  refs.btnSecond.classList.remove('act');\n  refs.btnThird.classList.remove('act');\n  if (currentPage === totalPages) {\n    refs.btnNext.classList.remove('act');\n    refs.btnEnd.classList.remove('act');\n  }\n  if (currentPage !== totalPages) {\n    refs.btnOther.classList.remove('act');\n  }\n}\n\nfunction screenWidthFunct() {\n  const screenWidth = window.innerWidth;\n\n  // console.log('screenWidth before:', screenWidth);\n  // console.log('itemsPerPage', itemsPerPage);\n  if (screenWidth < 768) {\n    itemsPerPage = 6;\n  } else if (screenWidth >= 768 && 1280 > screenWidth) {\n    itemsPerPage = 9;\n  } else if (screenWidth >= 1280) {\n    itemsPerPage = 12;\n  }\n  // console.log('screenWidth after:', screenWidth);\n  // console.log('itemsPerPage', itemsPerPage);\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('1Z6Xn') + require('./helpers/bundle-manifest').resolve(\"d9SZC\");"],"names":["parcelRequire","register","JSON","parse","$fc0cc5a9e3405e46$var$categoryFilter","document","querySelector","$fc0cc5a9e3405e46$var$recipeList","$fc0cc5a9e3405e46$var$categorySelect","$fc0cc5a9e3405e46$var$errorMessageEl","$fc0cc5a9e3405e46$var$paginationList","$874b953a5a1338d7$exports","getBundleURL","resolve","$fc0cc5a9e3405e46$var$iconsUrl","URL","$fc0cc5a9e3405e46$var$refs","btnBegin","btnPrev","btnFirst","btnSecond","btnThird","btnOther","btnNext","btnEnd","$fc0cc5a9e3405e46$var$FAVORITE_RECIPE","localStorage","getItem","console","log","$fc0cc5a9e3405e46$var$allElements","$fc0cc5a9e3405e46$var$totalPages","$fc0cc5a9e3405e46$var$currentPage","$fc0cc5a9e3405e46$var$itemsPerPage","$fc0cc5a9e3405e46$var$resizePage","$fc0cc5a9e3405e46$var$run","arrayOfObjects","screenWidth","length","window","scrollTo","top","behavior","innerWidth","Math","ceil","markup","sliceMarkup","style","display","textContent","$fc0cc5a9e3405e46$var$createBtn","startIndex","endIndex","slice","$fc0cc5a9e3405e46$var$sliceMarkupFun","classList","remove","$fc0cc5a9e3405e46$var$deactiveBtn","add","$fc0cc5a9e3405e46$var$activeBtn","innerHTML","createMarkupHtml","recipes","map","el","numStars","round","rating","stars","i","concat","pathname","i1","preview","_id","title","description","toFixed","join","insertAdjacentHTML","$fc0cc5a9e3405e46$var$renderMarkup","$fc0cc5a9e3405e46$var$renderingBtn","addEventListener","event","selectedCategory","target","value","filteredRecipes","filter","recipe","category","contains"],"version":3,"file":"favorites.692822a7.js.map"}