{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-1bf62153130978ae.js","src/js/index2.js","src/js/favorites-output.js","node_modules/@parcel/runtime-js/lib/runtime-e2ddb550f90b5ddf.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"1Z6Xn\\\":\\\"favorites.2a790331.js\\\",\\\"d9SZC\\\":\\\"icons.d085dab5.svg\\\",\\\"2CpI3\\\":\\\"index.fa2c7b15.js\\\"}\"));","import './mobile-menu.js';\nimport './dark-theme.js';\nimport './categories.js';\nimport './modal-order-now.js';\nimport './favorites-output.js';\n","// ================================\n// сторінка favorite =============\n\nconst categoryFilter = document.querySelector('.favorite-categories');\nconst recipeList = document.querySelector('.card-recipe-favorite');\nconst categorySelect = document.querySelector('.category-select');\nconst errorMessageEl = document.querySelector('.js-noone');\nconst paginationList = document.querySelector('.page-pagination-list');\n\nconst refs = {\n  btnBegin: document.querySelector('.btn-beginning'),\n  btnPrev: document.querySelector('.btn-previous'),\n  btnFirst: document.querySelector('.btn-first'),\n  btnSecond: document.querySelector('.btn-second'),\n  btnThird: document.querySelector('.btn-third'),\n  btnOther: document.querySelector('.btn-show-others'),\n  btnNext: document.querySelector('.btn-next'),\n  btnEnd: document.querySelector('.btn-end'),\n};\n\n// FAVORITE_RECIPE сюди додавати після натискання кнопки додати в улюблені\nconst FAVORITE_RECIPE = JSON.parse(localStorage.getItem('FAVORITE_RECIPE'));\nconsole.log(FAVORITE_RECIPE);\n\nlet currentPage = 1;\nlet itemsPerPage = 12;\n\nconst allElements = FAVORITE_RECIPE.length;\nconst totalPages = Math.ceil(allElements / itemsPerPage);\n\nconsole.log(FAVORITE_RECIPE.length);\nconsole.log(totalPages);\n\n//запуск\nfunction run() {\n  if (FAVORITE_RECIPE) {\n    categorySelect.addEventListener('change', handlerCategorySelect);\n    renderMarkup(FAVORITE_RECIPE); //завантаження списку на сторінку з локал сторедж\n    errorMessageEl.classList.add('disactive-message'); //відключає повідомлення про пустий список\n  } else {\n    paginationList.style.display = 'none';\n    categoryFilter.style.display = 'none'; // приховує фільтр по категорії\n    errorMessageEl.classList.remove('disactive-message');\n  }\n}\n\nrun();\n\n// рендер html, відображає на сторінці\nfunction renderMarkup(markup) {\n  const startIndex = (currentPage - 1) * itemsPerPage;\n  const endIndex = startIndex + itemsPerPage;\n  const slicedMarkup = markup.slice(startIndex, endIndex);\n  recipeList.innerHTML = ' ';\n  addCardsInHtml(slicedMarkup);\n}\n\nfunction addCardsInHtml(result) {\n  recipeList.insertAdjacentHTML('beforeend', createMarkup(result));\n}\n// створює список карток\nfunction createMarkup(recipes) {\n  return recipes\n    .map(el => {\n      let iconsUrl = new URL('../img/icons.svg', import.meta.url);\n      const numStars = Math.round(el.rating);\n      let stars = ``;\n      console.log(iconsUrl);\n      // for (let i = 0; i < numStars; i++) {\n      //   stars += `<svg class=\"rat-icon act\">\n      //         <use href=\"${iconsUrl.pathname}#icon-Star\"></use></svg>`;\n      // }\n\n      // if (numStars < 5) {\n      //   for (let i = 0; i < 5 - numStars; i++) {\n      //     stars += `<svg class=\"rat-icon \">\n      //         <use href=\"${iconsUrl.pathname}#icon-Star\"></use></svg>`;\n      //   }\n      // }\n\n      for (let i = 0; i < numStars; i++) {\n        stars += `<p>1</p>`;\n      }\n\n      if (numStars < 5) {\n        for (let i = 0; i < 5 - numStars; i++) {\n          stars += `<p>2</p>`;\n        }\n      }\n\n      return `\n    <li class=\"recipe-item\">\n      <div class=\"photo-recipe-card \" style=\"background-image: linear-gradient( 1deg, rgba(5, 5, 5, 0.6) 50%, rgba(5, 5, 5, 0) 100% ), url('${\n        el.preview\n      }'); background-repeat: no-repeat; background-size: cover;\">\n      <button class=\"fav-btn\" >\n      <svg class=\"fav-icon activ\" data-id=\"${el._id}\">\n          <use href=\"\"></use>\n        </svg>\n      </button>\n\n      <div class=\"info-recipe-card  \" >\n        <h2 class=\"title-recipe-card\">\n          ${el.title}\n        </h2>\n        <p class=\"descr-recipe-card\">\n          ${el.description.slice(0, 94)}...\n        </p>\n        <div class=\"thum-raying-card\">\n          <div class=\"rating-recipe-card\">\n          <span class=\"rating-value \">${el.rating.toFixed(1)}</span>\n        ${stars}\n\n        </div>\n        <button class=\"see-recipe-card\" data-id=\"${el._id}\">See recipe</button>\n        </div>\n      </div>\n    </div>\n    </li>`;\n    })\n    .join('');\n}\n\n// фільтр\nfunction handlerCategorySelect(event) {\n  const selectedCategory = event.target.value;\n  console.log(selectedCategory);\n  if (selectedCategory === '0') {\n    renderMarkup(slicedMarkup);\n  } else {\n    const filteredRecipes = FAVORITE_RECIPE.filter(\n      recipe => recipe.category === selectedCategory\n    );\n    console.log(filteredRecipes);\n\n    // const filteredMarkup = createMarkup(filteredRecipes);\n    renderMarkup(filteredRecipes);\n  }\n}\n\n//пагінація\npaginationList.addEventListener('click', event => {\n  if (event.target.classList.contains('btn-list')) {\n    if (event.target.classList.contains('btn-first')) {\n      currentPage = 1;\n      event.target.classList.add('act');\n      refs.btnSecond.classList.remove('act');\n      refs.btnThird.classList.remove('act');\n    } else if (event.target.classList.contains('btn-second')) {\n      currentPage = 2;\n      event.target.classList.add('act');\n      refs.btnFirst.classList.remove('act');\n      refs.btnThird.classList.remove('act');\n    } else if (event.target.classList.contains('btn-third')) {\n      currentPage = 3;\n      event.target.classList.add('act');\n      refs.btnSecond.classList.remove('act');\n      refs.btnSecond.classList.remove('act');\n    } else if (event.target.classList.contains('btn-show-others')) {\n      currentPage = totalPages;\n    } else if (event.target.classList.contains('btn-previous')) {\n      console.log(event.target);\n      console.log('currentPage', currentPage);\n\n      if (currentPage > 1) {\n        currentPage--;\n      }\n    } else if (event.target.classList.contains('btn-next')) {\n      if (currentPage < totalPages) {\n        currentPage++;\n      }\n    } else {\n      currentPage = parseInt(event.target.textContent);\n    }\n    renderMarkup(FAVORITE_RECIPE);\n  }\n});\n","module.exports = require('./helpers/bundle-url').getBundleURL('1Z6Xn') + require('./helpers/bundle-manifest').resolve(\"d9SZC\");"],"names":["parcelRequire","register","JSON","parse","$fc0cc5a9e3405e46$var$categoryFilter","document","querySelector","$fc0cc5a9e3405e46$var$recipeList","$fc0cc5a9e3405e46$var$categorySelect","$fc0cc5a9e3405e46$var$errorMessageEl","$fc0cc5a9e3405e46$var$paginationList","$fc0cc5a9e3405e46$var$refs","btnBegin","btnPrev","btnFirst","btnSecond","btnThird","btnOther","btnNext","btnEnd","$fc0cc5a9e3405e46$var$FAVORITE_RECIPE","localStorage","getItem","console","log","$fc0cc5a9e3405e46$var$currentPage","$fc0cc5a9e3405e46$var$allElements","length","$fc0cc5a9e3405e46$var$totalPages","Math","ceil","$fc0cc5a9e3405e46$var$renderMarkup","markup","result","startIndex","endIndex","slicedMarkup","slice","innerHTML","insertAdjacentHTML","map","el","iconsUrl","URL","$874b953a5a1338d7$exports","numStars","round","rating","stars","i","i1","concat","preview","_id","title","description","toFixed","join","addEventListener","$fc0cc5a9e3405e46$var$handlerCategorySelect","classList","add","style","display","remove","event","selectedCategory","target","value","filteredRecipes","filter","recipe","category","getBundleURL","resolve","contains","parseInt","textContent"],"version":3,"file":"favorites.2a790331.js.map"}