{"mappings":"gfAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,kJCAzDH,EAAA,S,sBCGQ,IAAFI,EAAiBC,SAASC,cAAc,wBACxCC,EAAaF,SAASC,cAAc,yBACpCE,EAAiBH,SAASC,cAAc,oBACxCG,EAAiBJ,SAASC,cAAc,aACxCI,EAAiBL,SAASC,cAAc,yBAGxCK,EAAkBT,KAAKC,MAAMS,aAAaC,QAAQ,oBACxDC,QAAQC,IAAIJ,GAEZ,IAAMK,EAAcL,EAAgBM,OAChCC,EAAc,EAEZC,EAAaC,KAAKC,KAAKL,EADV,GAIO,SAAjBM,EAAaC,GACpB,IASoBC,EATdC,EALW,GAKGP,EAAc,GAC5BQ,EAAWD,EANA,EAOXE,EAAeJ,EAAOK,MAAMH,EAAYC,GAE9CnB,EAAWsB,UAAY,GAKHL,EAJPG,EAKbpB,EAAWuB,mBACT,YACAN,EACGO,KAAI,SAAAC,GAOH,IANA,IAAMC,EAAM,IAAAC,IAAAC,GAENC,EAAWhB,KAAKiB,MAAML,EAAGM,QAC3BC,EAAQ,GAGHC,EAAI,EAAGA,EAAIJ,EAAUI,IAC5BD,GAAS,wDACeE,OAAPR,EAAO,4BAG1B,GAAIG,EAAW,EACb,IAAKM,EAAI,EAAGA,EAAI,EAAIN,EAAUM,IAC5BH,GAAS,0DACkBE,OAAPR,EAAO,+CAM/B,MAAO,8KAOgCQ,OAJrCT,EAAGW,QACJ,+JAIgBF,OADsBT,EAAGY,IAAI,+BAOxCH,OANWR,EAAO,sKASlBQ,OAHAT,EAAGa,MAAM,4EAOmBJ,OAJ5BT,EAAGc,YAAYlB,MAAM,EAAG,IAAI,yJAM5Ba,OAF4BT,EAAGM,OAAOS,QAAQ,GAAG,qCAOnDN,OALEF,EAAM,iGAMTE,OADCT,EAAGY,IACJ,4F,IAOJI,KAAK,K,OAmBN,SAAGC,EAAsBC,GAC7B,IAAMC,EAAmBD,EAAME,OAAOC,MAEtC,GADAvC,QAAQC,IAAIoC,GACa,MAArBA,EAEF,OAAO7B,EAAaX,GAEpB,IAAM2C,EAAkB3C,EAAgB4C,QACtC,SAAAC,G,OAAUA,EAAOC,WAAaN,C,IAKhC,OAHArC,QAAQC,IAAIuC,GAGLhC,EAAagC,E,CC1HxBnB,EAAiBnC,EAAA,SAAA0D,aAA6C,SAAW1D,EAAA,SAAA2D,QAA6C,SDgGhHhD,GACFH,EAAeoD,iBAAiB,SAAUX,GAC1C3B,EAAaX,GAC4BF,EAA1BoD,UAAUC,IAAI,uBAE7B1D,EAAe2D,MAAMC,QAAU,OACNvD,EAAVoD,UAAUI,OAAO,sBAyBpCvD,EAAekD,iBAAiB,SAAS,SAAAV,GACnCA,EAAME,OAAOS,UAAUK,SAAS,cAC9BhB,EAAME,OAAOS,UAAUK,SAAS,cAClChD,EAAc,EACdgC,EAAME,OAAOS,UAAUC,IAAI,OAC3BhD,QAAQC,IAAImC,EAAME,SACTF,EAAME,OAAOS,UAAUK,SAAS,eACzChD,EAAc,EACdgC,EAAME,OAAOS,UAAUC,IAAI,OAE3BhD,QAAQC,IAAIG,IACHgC,EAAME,OAAOS,UAAUK,SAAS,cACzChD,EAAc,EACdJ,QAAQC,IAAIG,GACZgC,EAAME,OAAOS,UAAUC,IAAI,QAClBZ,EAAME,OAAOS,UAAUK,SAAS,YACzChD,EAAcC,EACL+B,EAAME,OAAOS,UAAUK,SAAS,gBACrChD,EAAc,GAChBA,IAEOgC,EAAME,OAAOS,UAAUK,SAAS,YACrChD,EAAcC,GAChBD,IAGFA,EAAciD,SAASjB,EAAME,OAAOgB,a","sources":["node_modules/@parcel/runtime-js/lib/runtime-1bf62153130978ae.js","src/js/index2.js","src/js/favorites-output.js","node_modules/@parcel/runtime-js/lib/runtime-e2ddb550f90b5ddf.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"1Z6Xn\\\":\\\"favorites.05093c57.js\\\",\\\"d9SZC\\\":\\\"icons.d085dab5.svg\\\",\\\"2CpI3\\\":\\\"index.4335e5c0.js\\\"}\"));","import './mobile-menu.js';\nimport './dark-theme.js';\nimport './categories.js';\nimport './favorites-output.js';\n","// ================================\n// сторінка favorite =============\n\nconst categoryFilter = document.querySelector('.favorite-categories');\nconst recipeList = document.querySelector('.card-recipe-favorite');\nconst categorySelect = document.querySelector('.category-select');\nconst errorMessageEl = document.querySelector('.js-noone');\nconst paginationList = document.querySelector('.page-pagination-list');\n\n// favoriteRecipes сюди додавати після натискання кнопки додати в улюблені\nconst favoriteRecipes = JSON.parse(localStorage.getItem('favoriteRecipes'));\nconsole.log(favoriteRecipes);\n\nconst allElements = favoriteRecipes.length;\nlet currentPage = 1;\nlet itemsPerPage = 9;\nconst totalPages = Math.ceil(allElements / itemsPerPage);\n\n// рендер html, відображає на сторінці\nfunction renderMarkup(markup) {\n  const startIndex = (currentPage - 1) * itemsPerPage;\n  const endIndex = startIndex + itemsPerPage;\n  const slicedMarkup = markup.slice(startIndex, endIndex);\n\n  recipeList.innerHTML = '';\n  createMarkup(slicedMarkup);\n}\n\n// створює список карток\nfunction createMarkup(recipes) {\n  recipeList.insertAdjacentHTML(\n    'beforeend',\n    recipes\n      .map(el => {\n        const newUrl = new URL('../img/icons.svg', import.meta.url);\n\n        const numStars = Math.round(el.rating);\n        let stars = '';\n        //   console.log(numStars);\n\n        for (let i = 0; i < numStars; i++) {\n          stars += `<svg class=\"rat-icon act\">\n              <use href=\"${newUrl}#icon-Star\"></use></svg>`;\n        }\n\n        if (numStars < 5) {\n          for (i = 0; i < 5 - numStars; i++) {\n            stars += `<svg class=\"rat-icon \">\n                   <use href=\"${newUrl}#icon-Star\"></use>\n                 </svg>`;\n          }\n        }\n        //   console.log(stars);\n\n        return `\n      <li class=\"recipe-item\"> \n        <div class=\"photo-recipe-card \" style=\"background:linear-gradient( 1deg, rgba(5, 5, 5, 0.6) 50%, rgba(5, 5, 5, 0) 100% ), url('${\n          el.preview\n        }'); background-repeat: no-repeat; background-size:cover;\">\n        <button class=\"fav-btn\" >\n            \n        <svg class=\"fav-icon activ\" data-id=\"${el._id}\">\n            <use href=\"${newUrl}#icon-heart-full\"></use>\n          </svg>\n        </button>\n\n        <div class=\"info-recipe-card  \" >\n          <h2 class=\"title-recipe-card\">\n            ${el.title}\n          </h2>\n          <p class=\"descr-recipe-card\">\n            ${el.description.slice(0, 94)}...\n          </p>\n          <div class=\"thum-raying-card\">\n            <div class=\"rating-recipe-card\">\n            <span class=\"rating-value \">${el.rating.toFixed(1)}</span>\n          \n            ${stars}\n      \n            \n          </div>\n          <button class=\"see-recipe-card\" data-id=\"${\n            el._id\n          }\">See recipe</button>\n          </div>\n        </div>\n      </div>\n      </li>\n     `;\n      })\n      .join(' ')\n  );\n}\n\n//запуск\nfunction run() {\n  if (favoriteRecipes) {\n    categorySelect.addEventListener('change', handlerCategorySelect);\n    renderMarkup(favoriteRecipes); //завантаження списку на сторінку з локал сторедж\n    errorMessageEl.classList.add('disactive-message'); //відключає повідомлення про пустий список\n  } else {\n    categoryFilter.style.display = 'none'; // приховує фільтр по категорії\n    errorMessageEl.classList.remove('disactive-message');\n  }\n}\n\nrun();\n\n// фільтр\nfunction handlerCategorySelect(event) {\n  const selectedCategory = event.target.value;\n  console.log(selectedCategory);\n  if (selectedCategory === '0') {\n    // const allRecipesMarkup = createMarkup(favoriteRecipes);\n    return renderMarkup(favoriteRecipes);\n  } else {\n    const filteredRecipes = favoriteRecipes.filter(\n      recipe => recipe.category === selectedCategory\n    );\n    console.log(filteredRecipes);\n\n    // const filteredMarkup = createMarkup(filteredRecipes);\n    return renderMarkup(filteredRecipes);\n  }\n}\n\n//пагінація\npaginationList.addEventListener('click', event => {\n  if (event.target.classList.contains('btn-list')) {\n    if (event.target.classList.contains('btn-first')) {\n      currentPage = 1;\n      event.target.classList.add('act');\n      console.log(event.target);\n    } else if (event.target.classList.contains('btn-second')) {\n      currentPage = 2;\n      event.target.classList.add('act');\n\n      console.log(currentPage);\n    } else if (event.target.classList.contains('btn-third')) {\n      currentPage = 3;\n      console.log(currentPage);\n      event.target.classList.add('act');\n    } else if (event.target.classList.contains('btn-last')) {\n      currentPage = totalPages;\n    } else if (event.target.classList.contains('btn-previous')) {\n      if (currentPage > 1) {\n        currentPage--;\n      }\n    } else if (event.target.classList.contains('btn-next')) {\n      if (currentPage < totalPages) {\n        currentPage++;\n      }\n    } else {\n      currentPage = parseInt(event.target.textContent);\n    }\n\n    // renderMarkup(createMarkup);\n  }\n});\n","module.exports = require('./helpers/bundle-url').getBundleURL('1Z6Xn') + require('./helpers/bundle-manifest').resolve(\"d9SZC\");"],"names":["parcelRequire","register","JSON","parse","$fc0cc5a9e3405e46$var$categoryFilter","document","querySelector","$fc0cc5a9e3405e46$var$recipeList","$fc0cc5a9e3405e46$var$categorySelect","$fc0cc5a9e3405e46$var$errorMessageEl","$fc0cc5a9e3405e46$var$paginationList","$fc0cc5a9e3405e46$var$favoriteRecipes","localStorage","getItem","console","log","$fc0cc5a9e3405e46$var$allElements","length","$fc0cc5a9e3405e46$var$currentPage","$fc0cc5a9e3405e46$var$totalPages","Math","ceil","$fc0cc5a9e3405e46$var$renderMarkup","markup","recipes","startIndex","endIndex","slicedMarkup","slice","innerHTML","insertAdjacentHTML","map","el","newUrl","URL","$874b953a5a1338d7$exports","numStars","round","rating","stars","_$i","concat","i","preview","_id","title","description","toFixed","join","$fc0cc5a9e3405e46$var$handlerCategorySelect","event","selectedCategory","target","value","filteredRecipes","filter","recipe","category","getBundleURL","resolve","addEventListener","classList","add","style","display","remove","contains","parseInt","textContent"],"version":3,"file":"favorites.05093c57.js.map"}