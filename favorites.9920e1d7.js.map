{"mappings":"gfAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,kJCAzDH,EAAA,S,iCCGQ,IAUJI,EAVEC,EAAiBC,SAASC,cAAc,wBACxCC,EAAaF,SAASC,cAAc,yBACpCE,EAAiBH,SAASC,cAAc,oBACxCG,EAAiBJ,SAASC,cAAc,aACxCI,EAAiBL,SAASC,cAAc,yBAGxCK,EAAkBV,KAAKC,MAAMU,aAAaC,QAAQ,oBACxDC,QAAQC,IAAIJ,GAGZ,IAAIK,EAAc,EAKZL,GACFR,EAAcQ,EAAgBM,OAC9BH,QAAQC,IAAIJ,EAAgBM,QAC5BT,EAAeU,iBAAiB,SAAUC,GAC1CC,EAAaT,GAC4BF,EAA1BY,UAAUC,IAAI,uBAE7BZ,EAAea,MAAMC,QAAU,OAC/BpB,EAAemB,MAAMC,QAAU,OACNf,EAAVY,UAAUI,OAAO,sBAKpC,IAAMC,EAAaC,KAAKC,KAAKzB,EAlBV,IAqBO,SAAjBiB,EAAaS,GACpB,IAQsBC,EARhBC,EAtBW,IAsBGf,EAAc,GAC5BgB,EAAWD,EAvBA,GAwBXE,EAAeJ,EAAOK,MAAMH,EAAYC,GAE9CzB,EAAW4B,UAAY,GAIDL,EAHPG,EAIf1B,EAAW6B,mBAAmB,YAGb,SAAGC,GACpB,IACE,OAAOA,EACJC,KAAI,SAAAC,GACH,IAAIC,EAAQ,IAAAC,IAAAC,GACRC,EAAS,IAAAF,IAAAC,GAwBb,OAvBiBf,KAAKiB,MAAML,EAAGM,QAG/B/B,QAAQC,IAAIyB,GACZ1B,QAAQC,IAAIyB,EAASM,UACrBhC,QAAQC,IAAIwB,EAAGQ,KACfjC,QAAQC,IAAIwB,EAAGS,SAEflC,QAAQC,IAAI4B,GACZ7B,QAAQC,IAAI4B,EAAUG,UAcd,c,IAETG,KAAK,G,CACR,MAAOC,GACPpC,QAAQC,IAAImC,E,EApC6BC,CAAarB,G,OA4EpD,SAAGX,EAAsBiC,GAC7B,IAAMC,EAAmBD,EAAME,OAAOC,MAEtC,GADAzC,QAAQC,IAAIsC,GACa,MAArBA,EAEF,OAAOjC,EAAaT,GAEpB,IAAM6C,EAAkB7C,EAAgB8C,QACtC,SAAAC,G,OAAUA,EAAOC,WAAaN,C,IAKhC,OAHAvC,QAAQC,IAAIyC,GAGLpC,EAAaoC,E,CCvIxBd,EAAiB3C,EAAA,SAAA6D,aAA6C,SAAW7D,EAAA,SAAA8D,QAA6C,SD4ItHnD,EAAeQ,iBAAiB,SAAS,SAAAkC,GACnCA,EAAME,OAAOjC,UAAUyC,SAAS,cAC9BV,EAAME,OAAOjC,UAAUyC,SAAS,cAClC9C,EAAc,EACdoC,EAAME,OAAOjC,UAAUC,IAAI,OAC3BR,QAAQC,IAAIqC,EAAME,SACTF,EAAME,OAAOjC,UAAUyC,SAAS,eACzC9C,EAAc,EACdoC,EAAME,OAAOjC,UAAUC,IAAI,OAE3BR,QAAQC,IAAIC,IACHoC,EAAME,OAAOjC,UAAUyC,SAAS,cACzC9C,EAAc,EACdF,QAAQC,IAAIC,GACZoC,EAAME,OAAOjC,UAAUC,IAAI,QAClB8B,EAAME,OAAOjC,UAAUyC,SAAS,oBACzC9C,EAAcU,EACL0B,EAAME,OAAOjC,UAAUyC,SAAS,gBACrC9C,EAAc,GAChBA,IAEOoC,EAAME,OAAOjC,UAAUyC,SAAS,YACrC9C,EAAcU,GAChBV,IAGFA,EAAc+C,SAASX,EAAME,OAAOU,a","sources":["node_modules/@parcel/runtime-js/lib/runtime-1bf62153130978ae.js","src/js/index2.js","src/js/favorites-output.js","node_modules/@parcel/runtime-js/lib/runtime-e2ddb550f90b5ddf.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"1Z6Xn\\\":\\\"favorites.9920e1d7.js\\\",\\\"d9SZC\\\":\\\"icons.d085dab5.svg\\\",\\\"2CpI3\\\":\\\"index.fa2c7b15.js\\\"}\"));","import './mobile-menu.js';\nimport './dark-theme.js';\nimport './categories.js';\nimport './modal-order-now.js';\nimport './favorites-output.js';\n","// ================================\n// сторінка favorite =============\n\nconst categoryFilter = document.querySelector('.favorite-categories');\nconst recipeList = document.querySelector('.card-recipe-favorite');\nconst categorySelect = document.querySelector('.category-select');\nconst errorMessageEl = document.querySelector('.js-noone');\nconst paginationList = document.querySelector('.page-pagination-list');\n\n// favoriteRecipes сюди додавати після натискання кнопки додати в улюблені\nconst favoriteRecipes = JSON.parse(localStorage.getItem('favoriteRecipes'));\nconsole.log(favoriteRecipes);\n\nlet allElements;\nlet currentPage = 1;\nlet itemsPerPage = 12;\n\n//запуск\nfunction run() {\n  if (favoriteRecipes) {\n    allElements = favoriteRecipes.length;\n    console.log(favoriteRecipes.length);\n    categorySelect.addEventListener('change', handlerCategorySelect);\n    renderMarkup(favoriteRecipes); //завантаження списку на сторінку з локал сторедж\n    errorMessageEl.classList.add('disactive-message'); //відключає повідомлення про пустий список\n  } else {\n    paginationList.style.display = 'none';\n    categoryFilter.style.display = 'none'; // приховує фільтр по категорії\n    errorMessageEl.classList.remove('disactive-message');\n  }\n}\n\nrun();\nconst totalPages = Math.ceil(allElements / itemsPerPage);\n\n// рендер html, відображає на сторінці\nfunction renderMarkup(markup) {\n  const startIndex = (currentPage - 1) * itemsPerPage;\n  const endIndex = startIndex + itemsPerPage;\n  const slicedMarkup = markup.slice(startIndex, endIndex);\n\n  recipeList.innerHTML = '';\n  addCardsInHtml(slicedMarkup);\n}\n\nfunction addCardsInHtml(result) {\n  recipeList.insertAdjacentHTML('beforeend', createMarkup(result));\n}\n// створює список карток\nfunction createMarkup(recipes) {\n  try {\n    return recipes\n      .map(el => {\n        let iconsUrl = new URL('/src/img/icons.svg', import.meta.url);\n        let iconsUrl2 = new URL('../img/icons.svg', import.meta.url);\n        const numStars = Math.round(el.rating);\n        let stars = ``;\n\n        console.log(iconsUrl);\n        console.log(iconsUrl.pathname);\n        console.log(el._id);\n        console.log(el.preview);\n\n        console.log(iconsUrl2);\n        console.log(iconsUrl2.pathname);\n\n        // for (let i = 0; i < numStars; i++) {\n        //   stars += `<svg class=\"rat-icon act\">\n        //         <use href=\"${iconsUrl.pathname}#icon-Star\"></use></svg>`;\n        // }\n\n        // if (numStars < 5) {\n        //   for (i = 0; i < 5 - numStars; i++) {\n        //     stars += `<svg class=\"rat-icon \">\n        //         <use href=\"${iconsUrl.pathname}#icon-Star\"></use></svg>`;\n        //   }\n        // }\n\n        return `<p>Watch</p>`;\n      })\n      .join('');\n  } catch (error) {\n    console.log(error);\n  }\n  // console.log(stars);\n\n  //   return `\n  //   <li class=\"recipe-item\">\n  //     <div class=\"photo-recipe-card \" style=\"background-image: linear-gradient( 1deg, rgba(5, 5, 5, 0.6) 50%, rgba(5, 5, 5, 0) 100% ), url('${\n  //       el.preview\n  //     }'); background-repeat: no-repeat; background-size: cover;\">\n  //     <button class=\"fav-btn\" >\n  //     <svg class=\"fav-icon activ\" data-id=\"${el._id}\">\n  //         <use href=\"${iconsUrl.pathname}#icon-heart-full\"></use>\n  //       </svg>\n  //     </button>\n\n  //     <div class=\"info-recipe-card  \" >\n  //       <h2 class=\"title-recipe-card\">\n  //         ${el.title}\n  //       </h2>\n  //       <p class=\"descr-recipe-card\">\n  //         ${el.description.slice(0, 94)}...\n  //       </p>\n  //       <div class=\"thum-raying-card\">\n  //         <div class=\"rating-recipe-card\">\n  //         <span class=\"rating-value \">${el.rating.toFixed(1)}</span>\n  //       ${stars}\n\n  //       </div>\n  //       <button class=\"see-recipe-card\" data-id=\"${\n  //         el._id\n  //       }\">See recipe</button>\n  //       </div>\n  //     </div>\n  //   </div>\n  //   </li>`;\n  // })\n  // .join('');\n}\n\n// фільтр\nfunction handlerCategorySelect(event) {\n  const selectedCategory = event.target.value;\n  console.log(selectedCategory);\n  if (selectedCategory === '0') {\n    // const allRecipesMarkup = createMarkup(favoriteRecipes);\n    return renderMarkup(favoriteRecipes);\n  } else {\n    const filteredRecipes = favoriteRecipes.filter(\n      recipe => recipe.category === selectedCategory\n    );\n    console.log(filteredRecipes);\n\n    // const filteredMarkup = createMarkup(filteredRecipes);\n    return renderMarkup(filteredRecipes);\n  }\n}\n\n//пагінація\npaginationList.addEventListener('click', event => {\n  if (event.target.classList.contains('btn-list')) {\n    if (event.target.classList.contains('btn-first')) {\n      currentPage = 1;\n      event.target.classList.add('act');\n      console.log(event.target);\n    } else if (event.target.classList.contains('btn-second')) {\n      currentPage = 2;\n      event.target.classList.add('act');\n\n      console.log(currentPage);\n    } else if (event.target.classList.contains('btn-third')) {\n      currentPage = 3;\n      console.log(currentPage);\n      event.target.classList.add('act');\n    } else if (event.target.classList.contains('.btn-show-others')) {\n      currentPage = totalPages;\n    } else if (event.target.classList.contains('btn-previous')) {\n      if (currentPage > 1) {\n        currentPage--;\n      }\n    } else if (event.target.classList.contains('btn-next')) {\n      if (currentPage < totalPages) {\n        currentPage++;\n      }\n    } else {\n      currentPage = parseInt(event.target.textContent);\n    }\n\n    // renderMarkup(createMarkup);\n  }\n});\n","module.exports = require('./helpers/bundle-url').getBundleURL('1Z6Xn') + require('./helpers/bundle-manifest').resolve(\"d9SZC\");"],"names":["parcelRequire","register","JSON","parse","$fc0cc5a9e3405e46$var$allElements","$fc0cc5a9e3405e46$var$categoryFilter","document","querySelector","$fc0cc5a9e3405e46$var$recipeList","$fc0cc5a9e3405e46$var$categorySelect","$fc0cc5a9e3405e46$var$errorMessageEl","$fc0cc5a9e3405e46$var$paginationList","$fc0cc5a9e3405e46$var$favoriteRecipes","localStorage","getItem","console","log","$fc0cc5a9e3405e46$var$currentPage","length","addEventListener","$fc0cc5a9e3405e46$var$handlerCategorySelect","$fc0cc5a9e3405e46$var$renderMarkup","classList","add","style","display","remove","$fc0cc5a9e3405e46$var$totalPages","Math","ceil","markup","result","startIndex","endIndex","slicedMarkup","slice","innerHTML","insertAdjacentHTML","recipes","map","el","iconsUrl","URL","$874b953a5a1338d7$exports","iconsUrl2","round","rating","pathname","_id","preview","join","error","$fc0cc5a9e3405e46$var$createMarkup","event","selectedCategory","target","value","filteredRecipes","filter","recipe","category","getBundleURL","resolve","contains","parseInt","textContent"],"version":3,"file":"favorites.9920e1d7.js.map"}