{"mappings":"gfAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,kJCAzDH,EAAA,S,sBCGQ,IAAFI,EAAiBC,SAASC,cAAc,wBACxCC,EAAaF,SAASC,cAAc,iBACpCE,EAAiBH,SAASC,cAAc,oBACxCG,EAAiBJ,SAASC,cAAc,aAIxCI,EAAkBR,KAAKC,MAAMQ,aAAaC,QAAQ,oBAIlD,SAAGC,EAAaC,GACpBP,EAAWQ,UAAY,GACvBR,EAAWQ,UAAYD,C,CALzBE,QAAQC,IAAIP,G,MASC,SAAJQ,EAAaC,GACpB,OAAOA,EACJC,KAAI,SAAAC,GACH,IAAMC,EAAM,IAAAC,IAAAC,GAERC,EAAQ,gDAEOC,OADoBL,EAAGM,IAAI,+BACpBD,OAAPJ,EAAO,8CAGtBZ,EAAgBkB,SAASP,EAAGM,OAC9BF,EAAQ,kDAESC,OADsBL,EAAGM,IAAI,+BACtBD,OAAPJ,EAAO,+CAQ1B,IAJA,IAAMO,EAAWC,KAAKC,MAAMV,EAAGW,QAC3BC,EAAQ,GAGHC,EAAI,EAAGA,EAAIL,EAAUK,IAC5BD,GAAS,wDACiBP,OAAPJ,EAAO,4BAG5B,GAAIO,EAAW,EACb,IAAKM,EAAI,EAAGA,EAAI,EAAIN,EAAUM,IAC5BF,GAAS,0DACoBP,OAAPJ,EAAO,+CAMjC,MAAO,2GAMGI,OAHNL,EAAGe,QACJ,kHAOKV,OALED,EAAM,0HAQRC,OAHAL,EAAGgB,MAAM,4EAOkBX,OAJ3BL,EAAGiB,YAAYC,MAAM,EAAG,IAAI,wJAM5Bb,OAF2BL,EAAGW,OAAO,qCAOvCN,OALEO,EAAM,iGAMTP,OADCL,EAAGM,IACJ,qF,IAMNa,KAAK,G,CAKJ,SAAGC,EAAsBC,GAC7B,IAAMC,EAAmBD,EAAME,OAAOC,MAEtC,GADA7B,QAAQC,IAAI0B,GACa,MAArBA,EAA0B,CAE5B9B,EADyBK,EAAaR,G,KAEjC,CACL,IAAMoC,EAAkBpC,EAAgBqC,QACtC,SAAAC,G,OAAUA,EAAOC,WAAaN,C,IAEhC3B,QAAQC,IAAI6B,GAGZjC,EADuBK,EAAa4B,G,ECxGxCtB,EAAiBxB,EAAA,SAAAkD,aAA6C,SAAWlD,EAAA,SAAAmD,QAA6C,SD+GhHzC,GACFF,EAAe4C,iBAAiB,SAAUX,GAI1C5B,EAFyBK,EAAaR,IAGtCD,EAAe4C,UAAUC,IAAI,uBAE7BlD,EAAemD,MAAMC,QAAU,OAC/B/C,EAAe4C,UAAUI,OAAO,qB","sources":["node_modules/@parcel/runtime-js/lib/runtime-1bf62153130978ae.js","src/js/index2.js","src/js/favorites-output.js","node_modules/@parcel/runtime-js/lib/runtime-e2ddb550f90b5ddf.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"1Z6Xn\\\":\\\"favorites.e3cb3c7b.js\\\",\\\"d9SZC\\\":\\\"icons.d085dab5.svg\\\",\\\"2CpI3\\\":\\\"index.4335e5c0.js\\\"}\"));","import './mobile-menu.js';\nimport './dark-theme.js';\nimport './categories.js';\nimport './favorites-output.js';\n","// ================================\n// сторінка favorite =============\n\nconst categoryFilter = document.querySelector('.favorite-categories');\nconst recipeList = document.querySelector('.cards-recipe');\nconst categorySelect = document.querySelector('.category-select');\nconst errorMessageEl = document.querySelector('.js-noone');\n\n// забирає об'єкт масиву з локал сторедж\n// favoriteRecipes сюди додавати після натискання кнопки додати в улюблені\nconst favoriteRecipes = JSON.parse(localStorage.getItem('favoriteRecipes'));\nconsole.log(favoriteRecipes);\n\n// рендер html\nfunction renderMarkup(markup) {\n  recipeList.innerHTML = '';\n  recipeList.innerHTML = markup;\n}\n\n// створює картки\nfunction createMarkup(recipes) {\n  return recipes\n    .map(el => {\n      const newUrl = new URL('../img/icons.svg', import.meta.url);\n\n      let heart = `\n        <svg class=\"fav-icon dis\" data-id=\"${el._id}\">\n            <use href=\"${newUrl}#icon-heart-full\"></use>\n          </svg>`;\n\n      if (favoriteRecipes.includes(el._id)) {\n        heart = `\n        <svg class=\"fav-icon activ\" data-id=\"${el._id}\">\n            <use href=\"${newUrl}#icon-heart-full\"></use>\n          </svg>`;\n      }\n\n      const numStars = Math.round(el.rating);\n      let stars = '';\n      //   console.log(numStars);\n\n      for (let i = 0; i < numStars; i++) {\n        stars += `<svg class=\"rat-icon act\">\n              <use href=\"${newUrl}#icon-Star\"></use></svg>`;\n      }\n\n      if (numStars < 5) {\n        for (i = 0; i < 5 - numStars; i++) {\n          stars += `<svg class=\"rat-icon \">\n                   <use href=\"${newUrl}#icon-Star\"></use>\n                 </svg>`;\n        }\n      }\n      //   console.log(stars);\n\n      return `\n     <li class=\"recipe-item\"> \n        <div class=\"photo-recipe-card\" style=\"background-image: url('${\n          el.preview\n        }'); background-repeat: no-repeat; background-size:cover;\">\n        <button class=\"fav-btn\" >\n              ${heart}\n        </button>\n\n        <div class=\"info-recipe-card\" >\n          <h2 class=\"title-recipe-card\">\n            ${el.title}\n          </h2>\n          <p class=\"descr-recipe-card\">\n            ${el.description.slice(0, 94)}...\n          </p>\n          <div class=\"thum-raying-card\">\n            <div class=\"rating-recipe-card\">\n            <span class=\"rating-value\">${el.rating}</span>\n          \n            ${stars}\n      \n            \n          </div>\n          <button class=\"see-recipe-card\" data-id=\"${\n            el._id\n          }\">See recipe</button>\n          </div>\n        </div>\n      </div>\n      </li>`;\n    })\n    .join('');\n}\n\n// фільтр\n\nfunction handlerCategorySelect(event) {\n  const selectedCategory = event.target.value;\n  console.log(selectedCategory);\n  if (selectedCategory === '0') {\n    const allRecipesMarkup = createMarkup(favoriteRecipes);\n    renderMarkup(allRecipesMarkup);\n  } else {\n    const filteredRecipes = favoriteRecipes.filter(\n      recipe => recipe.category === selectedCategory\n    );\n    console.log(filteredRecipes);\n\n    const filteredMarkup = createMarkup(filteredRecipes);\n    renderMarkup(filteredMarkup);\n  }\n}\n\n//запуск\nfunction run() {\n  if (favoriteRecipes) {\n    categorySelect.addEventListener('change', handlerCategorySelect);\n\n    const allRecipesMarkup = createMarkup(favoriteRecipes);\n\n    renderMarkup(allRecipesMarkup);\n    errorMessageEl.classList.add('disactive-message');\n  } else {\n    categoryFilter.style.display = 'none';\n    errorMessageEl.classList.remove('disactive-message');\n  }\n}\n\nrun();\n","module.exports = require('./helpers/bundle-url').getBundleURL('1Z6Xn') + require('./helpers/bundle-manifest').resolve(\"d9SZC\");"],"names":["parcelRequire","register","JSON","parse","$fc0cc5a9e3405e46$var$categoryFilter","document","querySelector","$fc0cc5a9e3405e46$var$recipeList","$fc0cc5a9e3405e46$var$categorySelect","$fc0cc5a9e3405e46$var$errorMessageEl","$fc0cc5a9e3405e46$var$favoriteRecipes","localStorage","getItem","$fc0cc5a9e3405e46$var$renderMarkup","markup","innerHTML","console","log","$fc0cc5a9e3405e46$var$createMarkup","recipes","map","el","newUrl","URL","$874b953a5a1338d7$exports","heart","concat","_id","includes","numStars","Math","round","rating","stars","_$i","i","preview","title","description","slice","join","$fc0cc5a9e3405e46$var$handlerCategorySelect","event","selectedCategory","target","value","filteredRecipes","filter","recipe","category","getBundleURL","resolve","addEventListener","classList","add","style","display","remove"],"version":3,"file":"favorites.e3cb3c7b.js.map"}