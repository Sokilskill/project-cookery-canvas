{"mappings":"oeAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,kJCAzDH,EAAA,S,iCCGQ,MAAFI,EAAiBC,SAASC,cAAc,wBACxCC,EAAaF,SAASC,cAAc,yBACpCE,EAAiBH,SAASC,cAAc,oBACxCG,EAAiBJ,SAASC,cAAc,aACxCI,EAAiBL,SAASC,cAAc,yBAGxCK,EAAkBT,KAAKC,MAAMS,aAAaC,QAAQ,oBAGxD,IAAIC,EAFJC,QAAQC,IAAIL,GAGZ,IAAIM,EAAc,EAKZN,GACFG,EAAcH,EAAgBO,OAC9BH,QAAQC,IAAIL,EAAgBO,QAC5BV,EAAeW,iBAAiB,SAAUC,GAC1CC,EAAaV,GAC4BF,EAA1Ba,UAAUC,IAAI,uBAE7Bb,EAAec,MAAMC,QAAU,OAC/BrB,EAAeoB,MAAMC,QAAU,OACNhB,EAAVa,UAAUI,OAAO,sBAKpC,MAAMC,EAAaC,KAAKC,KAAKf,EAlBV,IAqBO,SAAjBO,EAAaS,GACpB,MAAMC,EAtBW,IAsBGd,EAAc,GAC5Be,EAAWD,EAvBA,GAwBXE,EAAeH,EAAOI,MAAMH,EAAYC,GAMhD,IAAwBG,EAJtB5B,EAAW6B,UAAY,GAIDD,EAHPF,EAIf1B,EAAW8B,mBAAmB,YAA0BF,EAKrDG,KAAIC,IACH,IAAIC,EAAQ,IAAAC,IAAAC,GACZ,MAAMC,EAAWf,KAAKgB,MAAML,EAAGM,QAC/B,IAAIC,EAAQ,GAEZ,IAAK,IAAIC,EAAI,EAAGA,EAAIJ,EAAUI,IAC5BD,GAAS,wDACUN,EAASQ,mCAG9B,GAAIL,EAAW,EACb,IAAKM,EAAI,EAAGA,EAAI,EAAIN,EAAUM,IAC5BH,GAAS,qDACQN,EAASQ,mCAM9B,MAAO,+KAGLT,EAAGW,mJAGkCX,EAAGY,+BACzBX,EAASQ,mKAMpBT,EAAGa,0EAGHb,EAAGc,YAAYnB,MAAM,EAAG,mJAIIK,EAAGM,OAAOS,QAAQ,sBAChDR,yEAGyCP,EAAGY,+EAI5C,IAELI,KAAK,I,OAIJ,SAAGnC,EAAsBoC,GAC7B,MAAMC,EAAmBD,EAAME,OAAOC,MAEtC,GADA5C,QAAQC,IAAIyC,GACa,MAArBA,EAEF,OAAOpC,EAAaV,GACf,CACL,MAAMiD,EAAkBjD,EAAgBkD,QACtCC,GAAUA,EAAOC,WAAaN,IAKhC,OAHA1C,QAAQC,IAAI4C,GAGLvC,EAAauC,E,ECrHxBlB,EAAiB,IAAAD,IAAoBzC,EAAA,SAAAgE,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WD0H5F1D,EAAeS,iBAAiB,SAASqC,IACnCA,EAAME,OAAOpC,UAAU+C,SAAS,cAC9Bb,EAAME,OAAOpC,UAAU+C,SAAS,cAClCpD,EAAc,EACduC,EAAME,OAAOpC,UAAUC,IAAI,OAC3BR,QAAQC,IAAIwC,EAAME,SACTF,EAAME,OAAOpC,UAAU+C,SAAS,eACzCpD,EAAc,EACduC,EAAME,OAAOpC,UAAUC,IAAI,OAE3BR,QAAQC,IAAIC,IACHuC,EAAME,OAAOpC,UAAU+C,SAAS,cACzCpD,EAAc,EACdF,QAAQC,IAAIC,GACZuC,EAAME,OAAOpC,UAAUC,IAAI,QAClBiC,EAAME,OAAOpC,UAAU+C,SAAS,oBACzCpD,EAAcU,EACL6B,EAAME,OAAOpC,UAAU+C,SAAS,gBACrCpD,EAAc,GAChBA,IAEOuC,EAAME,OAAOpC,UAAU+C,SAAS,YACrCpD,EAAcU,GAChBV,IAGFA,EAAcqD,SAASd,EAAME,OAAOa,a","sources":["node_modules/@parcel/runtime-js/lib/runtime-cee99d5234288b29.js","src/js/index2.js","src/js/favorites-output.js","node_modules/@parcel/runtime-js/lib/runtime-81377719e79deb95.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"bTGq4\\\":\\\"favorites.edda6e2c.js\\\",\\\"hm5VY\\\":\\\"icons.d085dab5.svg\\\",\\\"eBmCf\\\":\\\"index.0e4cb2c2.js\\\"}\"));","import './mobile-menu.js';\nimport './dark-theme.js';\nimport './categories.js';\nimport './modal-order-now.js';\nimport './favorites-output.js';\n","// ================================\n// сторінка favorite =============\n\nconst categoryFilter = document.querySelector('.favorite-categories');\nconst recipeList = document.querySelector('.card-recipe-favorite');\nconst categorySelect = document.querySelector('.category-select');\nconst errorMessageEl = document.querySelector('.js-noone');\nconst paginationList = document.querySelector('.page-pagination-list');\n\n// favoriteRecipes сюди додавати після натискання кнопки додати в улюблені\nconst favoriteRecipes = JSON.parse(localStorage.getItem('favoriteRecipes'));\nconsole.log(favoriteRecipes);\n\nlet allElements;\nlet currentPage = 1;\nlet itemsPerPage = 12;\n\n//запуск\nfunction run() {\n  if (favoriteRecipes) {\n    allElements = favoriteRecipes.length;\n    console.log(favoriteRecipes.length);\n    categorySelect.addEventListener('change', handlerCategorySelect);\n    renderMarkup(favoriteRecipes); //завантаження списку на сторінку з локал сторедж\n    errorMessageEl.classList.add('disactive-message'); //відключає повідомлення про пустий список\n  } else {\n    paginationList.style.display = 'none';\n    categoryFilter.style.display = 'none'; // приховує фільтр по категорії\n    errorMessageEl.classList.remove('disactive-message');\n  }\n}\n\nrun();\nconst totalPages = Math.ceil(allElements / itemsPerPage);\n\n// рендер html, відображає на сторінці\nfunction renderMarkup(markup) {\n  const startIndex = (currentPage - 1) * itemsPerPage;\n  const endIndex = startIndex + itemsPerPage;\n  const slicedMarkup = markup.slice(startIndex, endIndex);\n\n  recipeList.innerHTML = '';\n  addCardsInHtml(slicedMarkup);\n}\n\nfunction addCardsInHtml(result) {\n  recipeList.insertAdjacentHTML('beforeend', createMarkup(result));\n}\n// створює список карток\nfunction createMarkup(recipes) {\n  return recipes\n    .map(el => {\n      let iconsUrl = new URL('../img/icons.svg', import.meta.url);\n      const numStars = Math.round(el.rating);\n      let stars = ``;\n\n      for (let i = 0; i < numStars; i++) {\n        stars += `<svg class=\"rat-icon act\">\n              <use href=\"${iconsUrl.pathname}#icon-Star\"></use></svg>`;\n      }\n\n      if (numStars < 5) {\n        for (i = 0; i < 5 - numStars; i++) {\n          stars += `<svg class=\"rat-icon \">\n              <use href=\"${iconsUrl.pathname}#icon-Star\"></use></svg>`;\n        }\n      }\n\n      // console.log(stars);\n\n      return `\n    <li class=\"recipe-item\">\n      <div class=\"photo-recipe-card \" style=\"background-image: linear-gradient( 1deg, rgba(5, 5, 5, 0.6) 50%, rgba(5, 5, 5, 0) 100% ), url('${\n        el.preview\n      }'); background-repeat: no-repeat; background-size: cover;\">\n      <button class=\"fav-btn\" >\n      <svg class=\"fav-icon activ\" data-id=\"${el._id}\">\n          <use href=\"${iconsUrl.pathname}#icon-heart-full\"></use>\n        </svg>\n      </button>\n\n      <div class=\"info-recipe-card  \" >\n        <h2 class=\"title-recipe-card\">\n          ${el.title}\n        </h2>\n        <p class=\"descr-recipe-card\">\n          ${el.description.slice(0, 94)}...\n        </p>\n        <div class=\"thum-raying-card\">\n          <div class=\"rating-recipe-card\">\n          <span class=\"rating-value \">${el.rating.toFixed(1)}</span>\n        ${stars}\n\n        </div>\n        <button class=\"see-recipe-card\" data-id=\"${el._id}\">See recipe</button>\n        </div>\n      </div>\n    </div>\n    </li>`;\n    })\n    .join('');\n}\n\n// фільтр\nfunction handlerCategorySelect(event) {\n  const selectedCategory = event.target.value;\n  console.log(selectedCategory);\n  if (selectedCategory === '0') {\n    // const allRecipesMarkup = createMarkup(favoriteRecipes);\n    return renderMarkup(favoriteRecipes);\n  } else {\n    const filteredRecipes = favoriteRecipes.filter(\n      recipe => recipe.category === selectedCategory\n    );\n    console.log(filteredRecipes);\n\n    // const filteredMarkup = createMarkup(filteredRecipes);\n    return renderMarkup(filteredRecipes);\n  }\n}\n\n//пагінація\npaginationList.addEventListener('click', event => {\n  if (event.target.classList.contains('btn-list')) {\n    if (event.target.classList.contains('btn-first')) {\n      currentPage = 1;\n      event.target.classList.add('act');\n      console.log(event.target);\n    } else if (event.target.classList.contains('btn-second')) {\n      currentPage = 2;\n      event.target.classList.add('act');\n\n      console.log(currentPage);\n    } else if (event.target.classList.contains('btn-third')) {\n      currentPage = 3;\n      console.log(currentPage);\n      event.target.classList.add('act');\n    } else if (event.target.classList.contains('.btn-show-others')) {\n      currentPage = totalPages;\n    } else if (event.target.classList.contains('btn-previous')) {\n      if (currentPage > 1) {\n        currentPage--;\n      }\n    } else if (event.target.classList.contains('btn-next')) {\n      if (currentPage < totalPages) {\n        currentPage++;\n      }\n    } else {\n      currentPage = parseInt(event.target.textContent);\n    }\n\n    // renderMarkup(createMarkup);\n  }\n});\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"hm5VY\")).toString();"],"names":["parcelRequire","register","JSON","parse","$cceab99391eb4b01$var$categoryFilter","document","querySelector","$cceab99391eb4b01$var$recipeList","$cceab99391eb4b01$var$categorySelect","$cceab99391eb4b01$var$errorMessageEl","$cceab99391eb4b01$var$paginationList","$cceab99391eb4b01$var$favoriteRecipes","localStorage","getItem","$cceab99391eb4b01$var$allElements","console","log","$cceab99391eb4b01$var$currentPage","length","addEventListener","$cceab99391eb4b01$var$handlerCategorySelect","$cceab99391eb4b01$var$renderMarkup","classList","add","style","display","remove","$cceab99391eb4b01$var$totalPages","Math","ceil","markup","startIndex","endIndex","slicedMarkup","slice","result","innerHTML","insertAdjacentHTML","map","el","iconsUrl","URL","$c26f5e64986fd77d$exports","numStars","round","rating","stars","i1","pathname","i","preview","_id","title","description","toFixed","join","event","selectedCategory","target","value","filteredRecipes","filter","recipe","category","resolve","import","meta","url","toString","contains","parseInt","textContent"],"version":3,"file":"favorites.edda6e2c.js.map"}