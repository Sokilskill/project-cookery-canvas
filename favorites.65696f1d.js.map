{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-cee99d5234288b29.js","src/js/index2.js","src/js/favorites-output.js","node_modules/@parcel/runtime-js/lib/runtime-81377719e79deb95.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"bTGq4\\\":\\\"favorites.65696f1d.js\\\",\\\"hm5VY\\\":\\\"icons.d085dab5.svg\\\",\\\"eBmCf\\\":\\\"index.0fd64a00.js\\\"}\"));","import './mobile-menu.js';\nimport './dark-theme.js';\nimport './categories.js';\nimport './modal-order-now.js';\nimport './favorites-output.js';\nimport './modal-ratio';\n","// ================================\n// сторінка favorite =============\n\nconst screenWidth = window.innerWidth;\nconst categoryFilter = document.querySelector('.favorite-categories');\nconst recipeList = document.querySelector('.card-recipe-favorite');\nconst categorySelect = document.querySelector('.category-select');\nconst errorMessageEl = document.querySelector('.js-noone');\nconst paginationList = document.querySelector('.page-pagination-list');\nconst iconsUrl = new URL('../img/icons.svg', import.meta.url);\n\nconst refs = {\n  btnBegin: document.querySelector('.btn-beginning'),\n  btnPrev: document.querySelector('.btn-previous'),\n  btnFirst: document.querySelector('.btn-first'),\n  btnSecond: document.querySelector('.btn-second'),\n  btnThird: document.querySelector('.btn-third'),\n  btnOther: document.querySelector('.btn-show-others'),\n  btnNext: document.querySelector('.btn-next'),\n  btnEnd: document.querySelector('.btn-end'),\n};\n\n// FAVORITE_RECIPE сюди додавати після натискання кнопки додати в улюблені\nconst FAVORITE_RECIPE = JSON.parse(localStorage.getItem('FAVORITE_RECIPE'));\nconsole.log(FAVORITE_RECIPE);\n\nlet currentPage = 1;\nlet itemsPerPage = 6;\nconsole.log(screenWidth === 768);\n\nfunction screenWidthFunct() {\n  if (screenWidth >= 768) {\n    itemsPerPage = 9;\n  } else if (screenWidth >= 1280) {\n    itemsPerPage = 12;\n  }\n  console.log(itemsPerPage);\n}\n\nlet allElements;\nlet totalPages;\n\n//запуск\nfunction run() {\n  if (FAVORITE_RECIPE) {\n    screenWidthFunct();\n    allElements = FAVORITE_RECIPE.length;\n    totalPages = Math.ceil(allElements / itemsPerPage);\n    if (allElements <= itemsPerPage) {\n      paginationList.style.display = 'none';\n    } else {\n      refs.btnOther.textContent = totalPages;\n    }\n    if (totalPages <= 3) {\n      refs.btnThird.style.display = 'none';\n    }\n    if (totalPages <= 2) {\n      refs.btnSecond.style.display = 'none';\n    }\n    renderMarkup(sliceMarkupFun(FAVORITE_RECIPE)); //завантаження списку на сторінку з локал сторедж\n  } else {\n    paginationList.style.display = 'none';\n    categoryFilter.style.display = 'none'; // приховує фільтр по категорії\n    errorMessageEl.style.display = 'block'; //повідомлення про пустий список\n  }\n}\n\nfunction sliceMarkupFun(markup) {\n  const startIndex = (currentPage - 1) * itemsPerPage;\n  const endIndex = startIndex + itemsPerPage;\n  const slicedMarkup = markup.slice(startIndex, endIndex);\n  return slicedMarkup;\n}\n\n// рендер html, відображає на сторінці\nfunction renderMarkup(slicedMarkup) {\n  recipeList.innerHTML = ' ';\n  addCardsInHtml(slicedMarkup);\n}\n\nfunction addCardsInHtml(result) {\n  recipeList.insertAdjacentHTML('beforeend', createMarkup(result));\n}\n// // створює список карток\n\nfunction createMarkup(recipes) {\n  return recipes\n    .map(el => {\n      const numStars = Math.round(el.rating);\n      let stars = ``;\n\n      for (let i = 0; i < numStars; i++) {\n        stars += `<svg class=\"rat-icon act\">\n              <use href=\"${iconsUrl.pathname}#icon-Star\"></use></svg>`;\n      }\n\n      if (numStars < 5) {\n        for (let i = 0; i < 5 - numStars; i++) {\n          stars += `<svg class=\"rat-icon \">\n              <use href=\"${iconsUrl.pathname}#icon-Star\"></use></svg>`;\n        }\n      }\n\n      return `\n    <li class=\"recipe-item\">\n      <div class=\"photo-recipe-card \" style=\"background-image: linear-gradient( 1deg, rgba(5, 5, 5, 0.6) 50%, rgba(5, 5, 5, 0) 100% ), url('${\n        el.preview\n      }'); background-repeat: no-repeat; background-size: cover;\">\n      <button class=\"fav-btn\" >\n      <svg class=\"fav-icon activ\" data-id=\"${el._id}\">\n          <use href=\"${iconsUrl.pathname}#icon-heart-full\"></use>\n        </svg>\n      </button>\n\n      <div class=\"info-recipe-card  \" >\n        <h2 class=\"title-recipe-card\">\n          ${el.title}\n        </h2>\n        <p class=\"descr-recipe-card\">\n          ${el.description.slice(0, 94)}...\n        </p>\n        <div class=\"thum-raying-card\">\n          <div class=\"rating-recipe-card\">\n          <span class=\"rating-value \">${el.rating.toFixed(1)}</span>\n        ${stars}\n\n        </div>\n        <button class=\"see-recipe-card\" data-id=\"${el._id}\">See recipe</button>\n        </div>\n      </div>\n    </div>\n    </li>`;\n    })\n    .join('');\n}\n\ncategorySelect.addEventListener('change', handlerCategorySelect);\n\n// // фільтр\nfunction handlerCategorySelect(event) {\n  const selectedCategory = event.target.value;\n  console.log(selectedCategory);\n  if (selectedCategory === '0') {\n    renderMarkup(sliceMarkupFun(FAVORITE_RECIPE));\n  } else {\n    const filteredRecipes = FAVORITE_RECIPE.filter(\n      recipe => recipe.category === selectedCategory\n    );\n    console.log(filteredRecipes);\n    renderMarkup(filteredRecipes);\n  }\n}\n\n// //пагінація\npaginationList.addEventListener('click', event => {\n  if (event.target.classList.contains('btn-list')) {\n    if (event.target.classList.contains('btn-first')) {\n      currentPage = 1;\n    } else if (event.target.classList.contains('btn-second')) {\n      currentPage = 2;\n    } else if (event.target.classList.contains('btn-third')) {\n      currentPage = 3;\n    } else if (event.target.classList.contains('btn-show-others')) {\n      currentPage = totalPages;\n    }\n    renderingBtn();\n  }\n});\n\nrefs.btnNext.addEventListener('click', () => {\n  if (currentPage === totalPages) {\n    currentPage += 1;\n  }\n  renderingBtn();\n});\nrefs.btnPrev.addEventListener('click', () => {\n  if (currentPage < 1) {\n    currentPage -= 1;\n    renderingBtn();\n  }\n});\n\nfunction renderingBtn() {\n  deactiveBtn();\n  activeBtn();\n  renderMarkup(sliceMarkupFun(FAVORITE_RECIPE));\n}\n\nfunction activeBtn() {\n  if (currentPage > 1) {\n    refs.btnPrev.classList.add('act');\n    refs.btnBegin.classList.add('act');\n  }\n  if (currentPage === 1) {\n    refs.btnFirst.classList.add('act');\n  }\n  if (currentPage === 2) {\n    refs.btnSecond.classList.add('act');\n  }\n  if (currentPage === 3) {\n    refs.btnThird.classList.add('act');\n  }\n  if (currentPage === totalPages) {\n    refs.btnOther.classList.add('act');\n  }\n}\nfunction deactiveBtn() {\n  refs.btnPrev.classList.remove('act');\n  refs.btnBegin.classList.remove('act');\n  refs.btnFirst.classList.remove('act');\n  refs.btnSecond.classList.remove('act');\n  refs.btnThird.classList.remove('act');\n  if (currentPage >= totalPages) {\n    refs.btnNext.classList.remove('act');\n    refs.btnEnd.classList.remove('act');\n\n    refs.btnNext.classList.add('bc');\n    refs.btnEnd.classList.add('bc');\n  }\n  if (currentPage !== totalPages) {\n    refs.btnOther.classList.remove('act');\n  }\n}\n\nrun();\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"hm5VY\")).toString();"],"names":["parcelRequire","register","JSON","parse","$cceab99391eb4b01$var$screenWidth","window","innerWidth","$cceab99391eb4b01$var$categoryFilter","document","querySelector","$cceab99391eb4b01$var$recipeList","$cceab99391eb4b01$var$categorySelect","$cceab99391eb4b01$var$errorMessageEl","$cceab99391eb4b01$var$paginationList","$c26f5e64986fd77d$exports","URL","resolve","import","meta","url","toString","$cceab99391eb4b01$var$iconsUrl","$cceab99391eb4b01$var$refs","btnBegin","btnPrev","btnFirst","btnSecond","btnThird","btnOther","btnNext","btnEnd","$cceab99391eb4b01$var$FAVORITE_RECIPE","localStorage","getItem","console","log","$cceab99391eb4b01$var$allElements","$cceab99391eb4b01$var$totalPages","$cceab99391eb4b01$var$currentPage","$cceab99391eb4b01$var$itemsPerPage","$cceab99391eb4b01$var$sliceMarkupFun","markup","startIndex","endIndex","slice","$cceab99391eb4b01$var$renderMarkup","slicedMarkup","result","innerHTML","insertAdjacentHTML","map","el","numStars","Math","round","rating","stars","i","pathname","i1","preview","_id","title","description","toFixed","join","$cceab99391eb4b01$var$renderingBtn","classList","remove","add","$cceab99391eb4b01$var$deactiveBtn","$cceab99391eb4b01$var$activeBtn","addEventListener","event","selectedCategory","target","value","filteredRecipes","filter","recipe","category","contains","length","ceil","style","display","textContent"],"version":3,"file":"favorites.65696f1d.js.map"}