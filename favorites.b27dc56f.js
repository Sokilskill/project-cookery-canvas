!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},c=e.parcelRequiref774;null==c&&((c=function(t){if(t in n)return n[t].exports;if(t in a){var e=a[t];delete a[t];var c={id:t,exports:{}};return n[t]=c,e.call(c.exports,c,c.exports),c.exports}var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(t,e){a[t]=e},e.parcelRequiref774=c),c("iE7OH").register(JSON.parse('{"1Z6Xn":"favorites.b27dc56f.js","d9SZC":"icons.d085dab5.svg","2CpI3":"index.afa5d984.js"}')),c("cs7FV"),c("32ZrB"),c("9Di7p"),c("4J3Ot");var s,i=document.querySelector(".favorite-categories"),r=document.querySelector(".card-recipe-favorite"),o=document.querySelector(".category-select"),l=document.querySelector(".js-noone"),d=document.querySelector(".page-pagination-list");s=c("aNJCr").getBundleURL("1Z6Xn")+c("iE7OH").resolve("d9SZC");var u=new URL(s),p={btnBegin:document.querySelector(".btn-beginning"),btnPrev:document.querySelector(".btn-previous"),btnFirst:document.querySelector(".btn-first"),btnSecond:document.querySelector(".btn-second"),btnThird:document.querySelector(".btn-third"),btnOther:document.querySelector(".btn-show-others"),btnNext:document.querySelector(".btn-next"),btnEnd:document.querySelector(".btn-end")},v=JSON.parse(localStorage.getItem("FAVORITE_RECIPE"));console.log(v);var b,g,f=1,y=6;function m(){h(v)}function h(t){var e;t&&t.length?(b=t.length,(e=window.innerWidth)<768?y=6:e>=768&&1280>e?y=9:e>=1280&&(y=12),(g=Math.ceil(b/y))<f&&(f=1),function(t){var e=function(t){!function(){if(1===g)return d.style.display="none";d.style.display="flex";document.querySelector(".page-pagination-item-third").style.display="none",document.querySelector(".page-pagination-item-second").style.display=2===g?"none":"block";p.btnOther.textContent=g}();var e=(f-1)*y,n=e+y;return t.slice(e,n)}(t);(function(){f>1&&(p.btnPrev.classList.add("act"),p.btnBegin.classList.add("act"),p.btnPrev.classList.remove("bc"),p.btnBegin.classList.remove("bc"));p.btnFirst.classList.remove("act"),g<=3&&(p.btnSecond.textContent=2);p.btnSecond.classList.remove("act"),p.btnThird.classList.remove("act"),f===g&&(p.btnNext.classList.remove("act"),p.btnEnd.classList.remove("act"),p.btnNext.classList.add("bc"),p.btnEnd.classList.add("bc"));f!==g&&p.btnOther.classList.remove("act")})(),function(){1===f&&(p.btnPrev.classList.remove("act"),p.btnBegin.classList.remove("act"),p.btnPrev.classList.add("bc"),p.btnBegin.classList.add("bc"));1===f&&p.btnFirst.classList.add("act");1===f&&(p.btnSecond.textContent=2);f===g&&(p.btnSecond.textContent=g-1);(2===f||f>2&&f<g&&g>2)&&(p.btnSecond.classList.add("act"),p.btnSecond.textContent=f);f===g&&p.btnOther.classList.add("act");f<g&&(p.btnNext.classList.remove("bc"),p.btnEnd.classList.remove("bc"),p.btnNext.classList.add("act"),p.btnEnd.classList.add("act"))}(),r.innerHTML=" ";var n=(a=e,a.map((function(t){for(var e=Math.round(t.rating),n="",a=0;a<e;a++)n+='<svg class="rat-icon act active">\n              <use href="'.concat(u.pathname,'#icon-Star"></use></svg>');if(e<5)for(var c=0;c<5-e;c++)n+='<svg class="rat-icon ">\n              <use href="'.concat(u.pathname,'#icon-Star"></use></svg>');return'\n    <li class="recipe-item">\n      <div class="photo-recipe-card " style="background: linear-gradient( 1deg, rgba(5, 5, 5, 0.6) 50%, rgba(5, 5, 5, 0) 100% ), url(\''.concat(t.preview,'\'); background-repeat: no-repeat; background-size: cover;">\n      <button class="fav-btn" >\n      <svg class="fav-icon activ" data-id="').concat(t._id,'">\n          <use href="').concat(u.pathname,'#icon-heart-full"></use>\n        </svg>\n      </button>\n\n      <div class="info-recipe-card  " >\n        <h2 class="title-recipe-card">\n          ').concat(t.title,'\n        </h2>\n        <p class="descr-recipe-card">\n          ').concat(t.description.slice(0,94),'...\n        </p>\n        <div class="thum-raying-card">\n          <div class="rating-recipe-card">\n          <span class="rating-value ">').concat(t.rating.toFixed(1),"</span>\n        ").concat(n,'\n\n        </div>\n        <button class="see-recipe-card" data-id="').concat(t._id,'">See recipe</button>\n        </div>\n      </div>\n    </div>\n    </li>')})).join(""));var a;r.insertAdjacentHTML("beforeend",n)}(t),document.querySelector(".picture-wrapp").style.display="block",document.querySelector(".picture-wrapp").style.margin="0 0 40px 0"):(d.style.display="none",i.style.display="none",l.style.display="block")}function L(){h(v)}m(),window.addEventListener("resize",m),o.addEventListener("change",(function(t){var e=t.target.value;if("0"===e)h(v);else{var n=v.filter((function(t){return t.category===e}));f=1,h(n)}})),d.addEventListener("click",(function(t){t.target.classList.contains("btn-list")&&(t.target.classList.contains("btn-first")?f=1:t.target.classList.contains("btn-second")?f=t.target.textContent>2?t.target.textContent:2:t.target.classList.contains("btn-third")?f=3:t.target.classList.contains("btn-show-others")&&(f=g),L())})),p.btnBegin.addEventListener("click",(function(){f=1})),p.btnPrev.addEventListener("click",(function(){f>1&&(f--,L())})),p.btnNext.addEventListener("click",(function(){f!==g&&(f+=1,L())})),p.btnEnd.addEventListener("click",(function(){f=g,L()})),c("4sdbM");var S,w,E=c("bpxeT"),x=c("2TvXO"),k=document.getElementById("modalContainer");document.body.addEventListener("click",(w=t(E)(t(x).mark((function e(n){return t(x).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.target.classList.contains("see-recipe-card")&&F(n.target.dataset.id);case 1:case"end":return t.stop()}}),e)}))),function(t){return w.apply(this,arguments)}));var q=document.querySelector(".popular-recipe-list");function F(t){return O.apply(this,arguments)}function O(){return(O=t(E)(t(x).mark((function e(n){var a,c,s,i,r,o;return t(x).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://tasty-treats-backend.p.goit.global/api/recipes/".concat(n));case 3:return a=t.sent,t.next=6,a.json();case 6:if((c=t.sent)._id===n){t.next=11;break}return k.innerHTML='\n                    <div class="modal-content">\n                        <span class="close-button">&times;</span>\n                        <h2>Recipe Not Found</h2>\n                        <p>Sorry, the requested recipe could not be found.</p>\n                    </div>\n                ',k.style.display="block",t.abrupt("return");case 11:_(c.rating),s="".concat(c.rating.toFixed(1)," ").concat(_(c.rating)," | ").concat(c.time," min"),i=c.ingredients.map((function(t){var e=t.name||"Unknown ingredient";return'\n        <div class="ingredient-item">\n          <span class="ingredient-name">'.concat(e,'</span>\n          <span class="ingredient-measure">').concat(t.measure,"</span>\n        </div>")})),r='<div class="ingredient-list">'.concat(i.join(""),"</div>"),k.innerHTML='\n      <div class="modal-content" data-id="'.concat(n,'">\n          <span class="close-button">&times;</span>\n          <h2 class="title-modal-recipe">').concat(c.title,'</h2>\n          <div id="youtubePlayer"></div>\n          <p class="rating-and-time">').concat(c.tags.map((function(t){return'<p class="tag-button">#'.concat(t,"</p>")})).join("")," ").concat(s,"</p>\n          ").concat(r,'\n          <p class="instruction-text">').concat(c.instructions,'</p>\n          <button class="button addToFavorite">Add to Favorites</button>\n          <button class="button giveRating">Give a rating</button>\n      </div>\n    '),k.style.display="block",S=new YT.Player("youtubePlayer",{height:"315",width:"100%",videoId:N(c.youtube)}),k.scrollTop=0,k.getBoundingClientRect().bottom>window.innerHeight&&(k.style.top="0px"),(o=k.querySelector(".addToFavorite")).addEventListener("click",(function(){I(n,c),T(o,n)})),T(o,n),window.addEventListener("click",(function(t){t.target===k&&R()})),k.addEventListener("click",(function(t){t.target.classList.contains("close-button")&&R()})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&R()})),document.body.classList.add("my-body-noscroll-class"),t.next=33;break;case 30:t.prev=30,t.t0=t.catch(0),console.error("Error loading recipe data:",t.t0);case 33:case"end":return t.stop()}}),e,null,[[0,30]])})))).apply(this,arguments)}function I(t,e){var n,a=C(),c=(n=localStorage.getItem("FAVORITE_RECIPE"))?JSON.parse(n):[],s=c.findIndex((function(e){return e._id===t}));-1===s?(a.push(t),c.push(e)):(a.splice(s,1),c.splice(s,1)),function(t){var e=JSON.stringify(t);localStorage.setItem("favorites",e)}(a),function(t){var e=JSON.stringify(t);localStorage.setItem("FAVORITE_RECIPE",e),h(JSON.parse(localStorage.getItem("FAVORITE_RECIPE")))}(c)}function T(t,e){var n=C().includes(e);t.textContent=n?"Remove from Favorites":"Add to Favorites"}function C(){var t=localStorage.getItem("favorites");return t?JSON.parse(t):[]}function R(){S&&S.getPlayerState()===YT.PlayerState.PLAYING&&S.stopVideo(),k.style.display="none",document.body.classList.remove("my-body-noscroll-class")}function _(t){var e=Math.round(t);return'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#FFD700" class="bi bi-star-fill" viewBox="0 0 16 16"><path d="M6.612.499a1.5 1.5 0 0 1 2.776 0l1.976 4.787 5.038.434a1.5 1.5 0 0 1 .832 2.572l-3.843 3.143 1.259 4.889a1.5 1.5 0 0 1-2.302 1.583L8 13.347l-4.67 3.163a1.5 1.5 0 0 1-2.302-1.582l1.259-4.89-3.843-3.142a1.5 1.5 0 0 1 .832-2.572l5.038-.434L6.612.499z"/></svg>'.repeat(e)+'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgba(128, 128, 128, 0.5)" class="bi bi-star" viewBox="0 0 16 16"><path d="M6.612.499a1.5 1.5 0 0 1 2.776 0l1.976 4.787 5.038.434a1.5 1.5 0 0 1 .832 2.572l-3.843 3.143 1.259 4.889a1.5 1.5 0 0 1-2.302 1.583L8 13.347l-4.67 3.163a1.5 1.5 0 0 1-2.302-1.582l1.259-4.89-3.843-3.142a1.5 1.5 0 0 1 .832-2.572l5.038-.434L6.612.499z"/></svg>'.repeat(5-e)}function N(t){var e=t.match(/(?:\/embed\/|v=|\/v\/|youtu\.be\/|\/v=|^v=)([-_a-zA-Z0-9]+)/i);return e&&e[1]||null}q&&q.addEventListener("click",function(){var e=t(E)(t(x).mark((function e(n){var a;return t(x).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(a=n.target.closest(".popular-recipe-list-li"))&&F(a.dataset.recipeId);case 2:case"end":return t.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),window.addEventListener("click",(function(t){t.target===k&&(k.style.display="none")})),k.addEventListener("click",(function(t){t.target.classList.contains("close-button")&&(k.style.display="none")})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&"block"===k.style.display&&(k.style.display="none")}))}();
//# sourceMappingURL=favorites.b27dc56f.js.map
