var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},s=t.parcelRequiref774;null==s&&((s=function(t){if(t in e)return e[t].exports;if(t in n){var s=n[t];delete n[t];var i={id:t,exports:{}};return e[t]=i,s.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){n[t]=e},t.parcelRequiref774=s),s("kyEFX").register(JSON.parse('{"bTGq4":"favorites.8087f054.js","hm5VY":"icons.d085dab5.svg","eBmCf":"index.d38ac032.js"}')),s("8FnLx"),s("ghT7p"),s("kV9l4"),s("95rAy");const i=document.querySelector(".favorite-categories"),a=document.querySelector(".card-recipe-favorite"),c=document.querySelector(".category-select"),o=document.querySelector(".js-noone"),r=document.querySelector(".page-pagination-list");var l;l=new URL(s("kyEFX").resolve("hm5VY"),import.meta.url).toString();const d=new URL(l),u={btnBegin:document.querySelector(".btn-beginning"),btnPrev:document.querySelector(".btn-previous"),btnFirst:document.querySelector(".btn-first"),btnSecond:document.querySelector(".btn-second"),btnThird:document.querySelector(".btn-third"),btnOther:document.querySelector(".btn-show-others"),btnNext:document.querySelector(".btn-next"),btnEnd:document.querySelector(".btn-end")},p=JSON.parse(localStorage.getItem("FAVORITE_RECIPE"));console.log(p);let b,g,v=1,y=6;function f(){m(p)}function m(t){t&&t.length?(b=t.length,function(){const t=window.innerWidth;t<768?y=6:t>=768&&1280>t?y=9:t>=1280&&(y=12)}(),g=Math.ceil(b/y),g<v&&(v=1),function(t){const e=function(t){!function(){if(1===g)return r.style.display="none";r.style.display="flex";document.querySelector(".page-pagination-item-third").style.display="none",document.querySelector(".page-pagination-item-second").style.display=2===g?"none":"block";u.btnOther.textContent=g}();const e=(v-1)*y,n=e+y;return t.slice(e,n)}(t);(function(){v>1&&(u.btnPrev.classList.add("act"),u.btnBegin.classList.add("act"),u.btnPrev.classList.remove("bc"),u.btnBegin.classList.remove("bc"));u.btnFirst.classList.remove("act"),g<=3&&(u.btnSecond.textContent=2);u.btnSecond.classList.remove("act"),u.btnThird.classList.remove("act"),v===g&&(u.btnNext.classList.remove("act"),u.btnEnd.classList.remove("act"),u.btnNext.classList.add("bc"),u.btnEnd.classList.add("bc"));v!==g&&u.btnOther.classList.remove("act")})(),function(){1===v&&(u.btnPrev.classList.remove("act"),u.btnBegin.classList.remove("act"),u.btnPrev.classList.add("bc"),u.btnBegin.classList.add("bc"));1===v&&u.btnFirst.classList.add("act");1===v&&(u.btnSecond.textContent=2);v===g&&(u.btnSecond.textContent=g-1);(2===v||v>2&&v<g&&g>2)&&(u.btnSecond.classList.add("act"),u.btnSecond.textContent=v);v===g&&u.btnOther.classList.add("act");v<g&&(u.btnNext.classList.remove("bc"),u.btnEnd.classList.remove("bc"),u.btnNext.classList.add("act"),u.btnEnd.classList.add("act"))}(),a.innerHTML=" ";const n=(s=e,s.map((t=>{const e=Math.round(t.rating);let n="";for(let t=0;t<e;t++)n+=`<svg class="rat-icon act active">\n              <use href="${d.pathname}#icon-Star"></use></svg>`;if(e<5)for(let t=0;t<5-e;t++)n+=`<svg class="rat-icon ">\n              <use href="${d.pathname}#icon-Star"></use></svg>`;return`\n    <li class="recipe-item">\n      <div class="photo-recipe-card " style="background: linear-gradient( 1deg, rgba(5, 5, 5, 0.6) 50%, rgba(5, 5, 5, 0) 100% ), url('${t.preview}'); background-repeat: no-repeat; background-size: cover;">\n      <button class="fav-btn" >\n      <svg class="fav-icon activ" data-id="${t._id}">\n          <use href="${d.pathname}#icon-heart-full"></use>\n        </svg>\n      </button>\n\n      <div class="info-recipe-card  " >\n        <h2 class="title-recipe-card">\n          ${t.title}\n        </h2>\n        <p class="descr-recipe-card">\n          ${t.description.slice(0,94)}...\n        </p>\n        <div class="thum-raying-card">\n          <div class="rating-recipe-card">\n          <span class="rating-value ">${t.rating.toFixed(1)}</span>\n        ${n}\n\n        </div>\n        <button class="see-recipe-card" data-id="${t._id}">See recipe</button>\n        </div>\n      </div>\n    </div>\n    </li>`})).join(""));var s;a.insertAdjacentHTML("beforeend",n)}(t),document.querySelector(".picture-wrapp").style.display="block",document.querySelector(".picture-wrapp").style.margin="0 0 40px 0"):(r.style.display="none",i.style.display="none",o.style.display="block")}function h(){m(p)}f(),window.addEventListener("resize",f),c.addEventListener("change",(function(t){const e=t.target.value;if("0"===e)m(p);else{const t=p.filter((t=>t.category===e));v=1,m(t)}})),r.addEventListener("click",(t=>{t.target.classList.contains("btn-list")&&(t.target.classList.contains("btn-first")?v=1:t.target.classList.contains("btn-second")?v=t.target.textContent>2?t.target.textContent:2:t.target.classList.contains("btn-third")?v=3:t.target.classList.contains("btn-show-others")&&(v=g),h())})),u.btnBegin.addEventListener("click",(()=>{v=1})),u.btnPrev.addEventListener("click",(()=>{v>1&&(v--,h())})),u.btnNext.addEventListener("click",(()=>{v!==g&&(v+=1,h())})),u.btnEnd.addEventListener("click",(()=>{v=g,h()})),s("94NtY");const L=document.getElementById("modalContainer");let S;document.body.addEventListener("click",(async function(t){if(t.target.classList.contains("see-recipe-card")){w(t.target.dataset.id)}}));const E=document.querySelector(".popular-recipe-list");async function w(t){try{const e=await fetch(`https://tasty-treats-backend.p.goit.global/api/recipes/${t}`),n=await e.json();if(n._id!==t)return L.innerHTML='\n                    <div class="modal-content">\n                        <span class="close-button">&times;</span>\n                        <h2>Recipe Not Found</h2>\n                        <p>Sorry, the requested recipe could not be found.</p>\n                    </div>\n                ',void(L.style.display="block");$(n.rating);const s=`${n.rating.toFixed(1)} ${$(n.rating)} | ${n.time} min`,i=`<div class="ingredient-list">${n.ingredients.map((t=>`\n        <div class="ingredient-item">\n          <span class="ingredient-name">${t.name||"Unknown ingredient"}</span>\n          <span class="ingredient-measure">${t.measure}</span>\n        </div>`)).join("")}</div>`;L.innerHTML=`\n      <div class="modal-content" data-id="${t}">\n          <span class="close-button">&times;</span>\n          <h2 class="title-modal-recipe">${n.title}</h2>\n          <div id="youtubePlayer"></div>\n          <p class="rating-and-time">${n.tags.map((t=>`<p class="tag-button">#${t}</p>`)).join("")} ${s}</p>\n          ${i}\n          <p class="instruction-text">${n.instructions}</p>\n          <button class="button addToFavorite">Add to Favorites</button>\n          <button class="button giveRating">Give a rating</button>\n      </div>\n    `,L.style.display="block",S=new YT.Player("youtubePlayer",{height:"315",width:"100%",videoId:q(n.youtube)}),L.scrollTop=0;L.getBoundingClientRect().bottom>window.innerHeight&&(L.style.top="0px");const a=L.querySelector(".addToFavorite");a.addEventListener("click",(function(){!function(t,e){const n=k(),s=function(){const t=localStorage.getItem("FAVORITE_RECIPE");return t?JSON.parse(t):[]}(),i=s.findIndex((e=>e._id===t));-1===i?(n.push(t),s.push(e)):(n.splice(i,1),s.splice(i,1));(function(t){const e=JSON.stringify(t);localStorage.setItem("favorites",e)})(n),function(t){const e=JSON.stringify(t);localStorage.setItem("FAVORITE_RECIPE",e);m(JSON.parse(localStorage.getItem("FAVORITE_RECIPE")))}(s)}(t,n),x(a,t)})),x(a,t),window.addEventListener("click",(function(t){t.target===L&&F()})),L.addEventListener("click",(function(t){t.target.classList.contains("close-button")&&F()})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&F()})),document.body.classList.add("my-body-noscroll-class")}catch(t){console.error("Error loading recipe data:",t)}}function x(t,e){const n=k().includes(e);t.textContent=n?"Remove from Favorites":"Add to Favorites"}function k(){const t=localStorage.getItem("favorites");return t?JSON.parse(t):[]}function F(){S&&S.getPlayerState()===YT.PlayerState.PLAYING&&S.stopVideo(),L.style.display="none",document.body.classList.remove("my-body-noscroll-class")}function $(t){const e=Math.round(t);return'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#FFD700" class="bi bi-star-fill" viewBox="0 0 16 16"><path d="M6.612.499a1.5 1.5 0 0 1 2.776 0l1.976 4.787 5.038.434a1.5 1.5 0 0 1 .832 2.572l-3.843 3.143 1.259 4.889a1.5 1.5 0 0 1-2.302 1.583L8 13.347l-4.67 3.163a1.5 1.5 0 0 1-2.302-1.582l1.259-4.89-3.843-3.142a1.5 1.5 0 0 1 .832-2.572l5.038-.434L6.612.499z"/></svg>'.repeat(e)+'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgba(128, 128, 128, 0.5)" class="bi bi-star" viewBox="0 0 16 16"><path d="M6.612.499a1.5 1.5 0 0 1 2.776 0l1.976 4.787 5.038.434a1.5 1.5 0 0 1 .832 2.572l-3.843 3.143 1.259 4.889a1.5 1.5 0 0 1-2.302 1.583L8 13.347l-4.67 3.163a1.5 1.5 0 0 1-2.302-1.582l1.259-4.89-3.843-3.142a1.5 1.5 0 0 1 .832-2.572l5.038-.434L6.612.499z"/></svg>'.repeat(5-e)}function q(t){const e=t.match(/(?:\/embed\/|v=|\/v\/|youtu\.be\/|\/v=|^v=)([-_a-zA-Z0-9]+)/i);return e&&e[1]||null}E&&E.addEventListener("click",(async function(t){const e=t.target.closest(".popular-recipe-list-li");if(e){w(e.dataset.recipeId)}})),window.addEventListener("click",(function(t){t.target===L&&(L.style.display="none")})),L.addEventListener("click",(function(t){t.target.classList.contains("close-button")&&(L.style.display="none")})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&"block"===L.style.display&&(L.style.display="none")}));
//# sourceMappingURL=favorites.8087f054.js.map
